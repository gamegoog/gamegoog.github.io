<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Money Printer Shop 🛒</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
    background-color: #f0f0f0;
  }

  h1 {
    margin-bottom: 20px;
  }

  .tile-container {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    margin-top: 20px;
  }

  .tile {
    text-align: center;
    width: 200px;
    height: 200px;
    margin: 10px;
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-decoration: none;
  }

  .tile:hover {
    transform: translateY(-5px);
  }

  .tile a {
    text-decoration: none;
    color: inherit;
  }

.tile button {
  background-color: #4CAF50; /* Green background */
  border: none;
  color: white;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  border-radius: 5px; /* Rounded corners */
  cursor: pointer;
}

.tile button:hover {
  background-color: #45a049; /* Darker green on hover */
}

  .emoji {
    font-size: 2em;
    margin-bottom: 10px;
  }

  .name {
    font-size: 1em;
    margin-bottom: 5px;
  }

  .footer {
    background-color: #f5f5f5;
    padding: 10px;
    color: #666;
    font-size: 14px;
  }

  .footer a {
    color: #333;
    text-decoration: none;
  }

  .footer a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>
<h1>Money Printer Shop 🛒</h1>
<div id="cashDisplay">$0</div>
<div class="tile-container" id="shopContainer"></div>

<div class="footer">
  Done buying money printers? Go <a href="/gamblr/">home</a>!
</div>

<script>
  // JSON object containing printer details
  const printers = [
    { name: 'Money Printer Lv. 1', emoji: '🖨️', price: 20000 },
    { name: 'Money Printer Lv. 2', emoji: '💰🖨️', price: 100000 },
    { name: 'Money Printer Lv. 3', emoji: '💰💰🖨️💰', price: 750000 }
  ];

  // Function to determine if printer is owned
  function isPrinterOwned(level) {
    const printerLevel = localStorage.getItem('printer');
    return printerLevel && parseInt(printerLevel) >= level;
  }

  // Function to display shop
  function displayShop() {
    const shopContainer = document.getElementById('shopContainer');

    // Clear existing shop tiles
    shopContainer.innerHTML = '';

    printers.forEach(printer => {
      const tile = document.createElement('div');
      tile.className = 'tile';

      const emojiDiv = document.createElement('div');
      emojiDiv.className = 'emoji';
      emojiDiv.textContent = printer.emoji;
      tile.appendChild(emojiDiv);

      const nameDiv = document.createElement('div');
      nameDiv.className = 'name';
      nameDiv.textContent = printer.name;
      tile.appendChild(nameDiv);

      const priceDiv = document.createElement('div');
      priceDiv.className = 'price';
      priceDiv.textContent = isPrinterOwned(printers.indexOf(printer) + 1) ? 'Owned' : '$' + printer.price.toLocaleString();
      tile.appendChild(priceDiv);

      if (!isPrinterOwned(printers.indexOf(printer) + 1)) {
        const buyButton = document.createElement('button');
        buyButton.textContent = 'Buy';
        buyButton.addEventListener('click', () => buyPrinter(printers.indexOf(printer) + 1, printer.price));
        tile.appendChild(buyButton);
      }

      shopContainer.appendChild(tile);
    });
  }

function buyPrinter(level, price) {
  const userCash = parseFloat(localStorage.getItem('cash')) || 0;
  if (userCash >= price) {
    localStorage.setItem('cash', userCash - price);
    localStorage.setItem('printer', level);
    updateCashDisplay(userCash - price); // Update cash display
    displayShop();
  } else {
    alert('Not enough cash!');
  }
}


  // Function to update cash display
  function updateCashDisplay(cash) {
    const cashDisplay = document.getElementById('cashDisplay');
    cashDisplay.textContent = '$' + cash.toLocaleString();
  }

  // On page load
  window.onload = function() {
    displayShop();
    const initialCash = parseFloat(localStorage.getItem('cash')) || 0;
    updateCashDisplay(initialCash);
  };
</script>
</body>
</html>
