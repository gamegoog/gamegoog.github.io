<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GAMBLR - Shop</title>
  <link rel="icon" type="image/x-icon" href="/gamblr/icon.png">
  <meta content="GAMBLR - Shop" property="og:title" />
  <meta content="buy money printers and gorila and lamborgini" property="og:description" />
  <meta content="https://gloabe.github.io/gamblr/" property="og:url" />
  <meta content="https://gloabe.github.io/gamblr/icon.png" property="og:image" />
  <meta content="#E4A700" data-react-helmet="true" name="theme-color" />
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 8px;
        padding: 0;
        background-color: #f0f0f0;
      }

      h1 {
        margin-bottom: 20px;
      }

      .category-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 20px;
      }

      .category-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 20px;
      }

      .category {
        flex: 1 0 45%;
        /* Adjusted */
        margin: 0 7px;
      }

      .category-items {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }

      .category-title {
        margin-bottom: 1px;
        /* Reduced margin */
      }

      .tile {
        text-align: center;
        width: 200px;
        height: 200px;
        margin: 10px;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-decoration: none;
      }

      .tile:hover {
        transform: translateY(-5px);
      }

      .tile a {
        text-decoration: none;
        color: inherit;
      }

      .tile button {
        background-color: #4CAF50;
        /* Green background */
        border: none;
        color: white;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        border-radius: 5px;
        /* Rounded corners */
        cursor: pointer;
      }

      .tile button:hover {
        background-color: #45a049;
        /* Darker green on hover */
      }

      .tile button.sell-button {
        background-color: #FF6347;
        /* Red background */
        border: none;
        color: white;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        border-radius: 5px;
        /* Rounded corners */
        cursor: pointer;
      }

      .tile button.sell-button:hover {
        background-color: #CD5C5C;
        /* Darker red on hover */
      }

      .emoji {
        font-size: 2em;
        margin-bottom: 10px;
      }

      .name {
        font-size: 1em;
        margin-bottom: 5px;
      }

      .price {
        font-size: 0.8em;
        margin-top: 5px;
      }

      .footer {
        background-color: #f5f5f5;
        padding: 10px;
        color: #666;
        font-size: 14px;
      }

      .footer a {
        color: #333;
        text-decoration: none;
      }

      .footer a:hover {
        text-decoration: underline;
      }
    </style>
    <style type="text/css" id="operaUserStyle"></style>
  </head>
<body>
<h1>ðŸ›’ GAMBLR Shop</h1>
<div id="cashDisplay">$16,150,000</div>
<div class="category-container" id="shopContainer"></div>
<div class="footer"> Done shopping? Go <a href="/gamblr/">home</a>! </div>
<script>
      // JSON object containing item details
      /* const items = [{
        category: 'Printers',
        name: 'Money Printer Lv. 1',
        emoji: 'ðŸ–¨ï¸',
        price: 20000
      }, {
        category: 'Printers',
        name: 'Money Printer Lv. 2',
        emoji: 'ðŸ’°ðŸ–¨ï¸',
        price: 100000
      }, {
        category: 'Printers',
        name: 'Money Printer Lv. 3',
        emoji: 'ðŸ’°ðŸ’°ðŸ–¨ï¸ðŸ’°',
        price: 750000
      }, {
        category: 'Cars',
        name: 'Lamborghini',
        emoji: 'ðŸŽï¸',
        price: 3000000
      }]; */

      // Function to determine if item is owned
      function isItemOwned(item) {
        if (item.category === 'Printers') {
          const printerLevel = parseInt(localStorage.getItem('printer')) || 0;
          return printerLevel >= items.indexOf(item) + 1;
        } else {
          const itemName = item.name;
          return localStorage.getItem(itemName) === 'true';
        }
      }

      async function fetchShopItems() {
        try {
          const response = await fetch('js/shop.json');
          const data = await response.json();
          return data;
        } catch (error) {
          console.error('Error fetching shop items:', error);
          return [];
        }
      }

      // Function to display shop items
      async function displayShop() {
        const shopContainer = document.getElementById('shopContainer');
        const items = await fetchShopItems();

        if (items.length === 0) {
          shopContainer.innerHTML = '<p>No items available</p>';
          return;
        }

        items.forEach(item => {
          const categoryContainer = document.createElement('div');
          categoryContainer.classList.add('category');

          const categoryTitle = document.createElement('h2');
          categoryTitle.classList.add('category-title');
          categoryTitle.textContent = item.category;
          categoryContainer.appendChild(categoryTitle);

          const categoryItems = document.createElement('div');
          categoryItems.classList.add('category-items');

          item.items.forEach(itemData => {
            const tile = document.createElement('div');
            tile.className = 'tile';

            const emojiDiv = document.createElement('div');
            emojiDiv.className = 'emoji';
            emojiDiv.textContent = itemData.emoji;
            tile.appendChild(emojiDiv);

            const nameDiv = document.createElement('div');
            nameDiv.className = 'name';
            nameDiv.textContent = itemData.name;
            tile.appendChild(nameDiv);

            const priceDiv = document.createElement('div');
            priceDiv.className = 'price';
            priceDiv.textContent = itemData.price;
            tile.appendChild(priceDiv);

            const button = document.createElement('button');
            button.textContent = 'Buy';
            button.addEventListener('click', () => buyItem(itemData));
            tile.appendChild(button);

            categoryItems.appendChild(tile);
          });

          categoryContainer.appendChild(categoryItems);
          shopContainer.appendChild(categoryContainer);
        });
      }

    // On page load
    window.onload = async function () {
        await displayShop();
        const initialCash = parseFloat(localStorage.getItem('cash')) || 0;
        updateCashDisplay(initialCash);
    };
      // Function to update cash display
      function updateCashDisplay(cash) {
        const cashDisplay = document.getElementById('cashDisplay');
        cashDisplay.textContent = '$' + cash.toLocaleString();
      }
      // Function to buy an item
      // Function to buy an item
      function buyItem(item) {
        const userCash = parseFloat(localStorage.getItem('cash')) || 0;
        if (userCash >= item.price) {
          if (item.category === 'Printers') {
            const printerLevel = items.indexOf(item) + 1;
            localStorage.setItem('cash', userCash - item.price);
            localStorage.setItem('printer', printerLevel); // Update printer level
          } else {
            localStorage.setItem('cash', userCash - item.price);
            localStorage.setItem(item.name, true); // Mark item as owned
          }
          updateCashDisplay(userCash - item.price);
          displayShop();
        } else {
          alert('Not enough cash!');
        }
      }
      // Function to sell an item
      function sellItem(item) {
        const userCash = parseFloat(localStorage.getItem('cash')) || 0;
        const sellPrice = item.price * 0.9; // Sell for 90% of original price
        localStorage.setItem('cash', userCash + sellPrice);
        localStorage.setItem(item.name, false); // Mark item as not owned
        updateCashDisplay(userCash + sellPrice);
        displayShop();
      }
    </script>
  </body>
</html>
